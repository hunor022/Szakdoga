\documentclass{article}

\usepackage[english]{babel}

\usepackage[letterpaper,top=2cm,bottom=2cm,left=3cm,right=3cm,marginparwidth=1.75cm]{geometry}
\usepackage{parskip}
\usepackage{amsmath}
\usepackage{graphicx, animate}
\graphicspath{ {./images/} }
\usepackage[colorlinks=true, allcolors=blue]{hyperref}

\title{Jegyzetek}
\author{Kovács Hunor}

\begin{document}
	\maketitle
	
	Forrásolás
	\begin{itemize}
		\item silozo
		\item szálastakarmány
		\item right to repair
		\item 
	\end{itemize}
	
	irodalomjegyzek
	visszajelzes:
	fényerősség nappal 5 méterre
	
	szennyeződés kizárása:
	csatlakozók
	
	
	\section{alternatívák}
	
	2 féle nyomatékhatároló
	
	visszajelzés alternatívái:
	1 égő
	wifi / bluetooth interface - képernyő a silozóban
	csatlakozón beküldeni a silózóba - különböző szabványokra portolni - cégek szabványainak megfelelni
	
	\section{Feladatkiírás}
	
	\begin{enumerate}
		
		\item Tárja fel a mezőgazdasági gépeken használatos szenzortechnikai, adatfeldolgozási és visszajelzési megoldásokat!
		\item Válasszon a szálastakarmány felszedő adapteren alkalmazható fordulatszám meghatározására alkalmazható szenzort!
		\item Tervezzen az adapterhez és a szenzorhoz megfelelő adatfeldolgozó és visszajelző rendszert!
		\item Vizsgálja meg a tervezett mérőrendszer alkalmazási lehetőségeit üzembiztonsági és diagnosztikai feladatok esetén!
		\item Foglalja össze a kapott eredményeket magyar és angol nyelven.
	\end{enumerate}
	
	\section{Célok és Elvek}
	
	\begin{itemize}
		\item por és olaj álló
		\item moduláris, cserélhető (right to repair)
		\item minél kevesebb támogató tervezés kelljen hozzá (lánckerék mérés)
		\item biztonságos
	\end{itemize}
	
	\section{Kutatómunka}
	\subsection{kiindulás}
	\begin{itemize}
		\item forgó mozgás milyen szenzorokkal mérhető?
		\item milyen fizikai mennyiséget lehet mérni? (szögpozíció, szögsebesség)
		\item milyen alapvető eszköztípusok vannak erre? (pl. enkóderek, tachogenerátor)
		\item milyen fizikai elven működnek ezek az eszközök? (optikai, kapacitív, mágneses, induktív stb.)
		\item a szenzorok milyen villamos jelet állítanak elő? milyen ipari szabványok vannak erre?
		konkrét, kereskedelmi forgalomban kapható eszközök kivitele (rögzítés iránya, tengelyméretek)
	\end{itemize}
	
	\subsection{később fontos lehet}
	\begin{itemize}
		\item milyen eszközzel digitalizáljuk majd a szenzorok jeleit? (PLC, mikrovezérlő, ipari PC stb)
		\item milyen módon továbbítsuk ezeket a mért adatokat? (buszok, protokollok, pl. soros port, CAN busz stb.) --Wireless valami
	\end{itemize}
	
	\subsection{Paraméterek}
	\begin{itemize}
		\item Feszültség: 12 V
		\item Fogaskerekek anyaga
		\item Fordulatszám intervallum
		
	\end{itemize}
	
	
	
	\section{Forgó mozgás szenzorai}
	
	\subsection{Handbook of Modern Sensors: Physics, Designs, and Applications}
	\subsubsection{Displacement/position sensors}
	Design guidelines:
	\begin{enumerate}
		\item How big is the displacement and of what type (linear, circular)?
		\item What resolution and accuracy are required?
		\item What the measured (moving) object is made of (metal, plastic, fluid, ferromagnetic, etc.)?
		\item How much space is available for mounting the detector?
		\item What are the environmental conditions (humidity, temperature, sources of
		interference, vibration, corrosive materials, etc.)?
		\item How much power is available for the sensor?
		\item How much mechanical wear can be expected over the life time of the machine?
		\item 8. What is the production quantity of the sensing assembly (limited number,
		medium volume, mass production)?
		\item 9. What is the target cost of the detecting assembly?
	\end{enumerate}
	
	Potenciométeres elfordulás mérés - nem alkalmas több fordulat megtételére kialakítása miatt
	Kapacitív szenzorok - szennyeződések miatt nem alkalmas, kontaktot nem lehet létesíteni
	Induktív/Mágneses szenzorok
	\begin{itemize}
		\item LVDT/RVDT - nem jo, kontakt alapu
		\item Örvényáram szenzor (Eddy current) - vastag testek detektálása (detektor távolságnál vastagabb kell legyen a test), por/olaj álló, felületi hibák, vastagságok mérésére alkalmas (overkill probs)
		\item Transverse Inductive Sensor - kis elmozdulás mérése (overkill)
		\item Hall effektus szenzorok - egy bizonyos távolságon (release point) belül lévő mágneseket érzékelnek
		\item Magnetoresistive sensors - mágneses forrás szükséges, nem mindegy milyen tengelyei hatnak a szenzorra, nagy pontosságú párhuzamosság kell hozzá (nem valószínű hogy jó ide)
		\item Magnetostrictive detector - cső és gyűrűmágnes kell hozzá (nem jó)
	\end{itemize}
	Optikai szenzorok - olaj és porszennyezés miatt nem is jön szóba
	Radarok, pointing deviceok
	
	
	\subsubsection {Velocity and Acceleration}
	Konkretan csak a gyorsulasrol volt szo
	
	\subsection{Alan S Morris, Reza Langari Ph.D. - Measurement and Instrumentation}
	
	\subsubsection{Rotational Motion Transducers / Rotational Velocity}
	
	Digital Tachometers - a tengely körüli jelöléseket érzékeljük, a sűrűségük és a szenzor órajele határozza meg a felbontást és az érzékenységet
	
	\begin{itemize}
		\item Optical - a tárcsán/tengelyen visszaverő sávok vagy lyukak (egyik oldalon emitter másikon detektor) - érzékeny por és olaj szennyezésre
		\item variable reluctance sensors
		\begin{itemize}
			\item ferromágneses anyagok (vas) érzékelése
			\item fogaskeréken a távolodó és közeledő fogak megváltoztatják a mágneses fluxust amit mér a szenzor
			\item van egy fordulatszám limit (?? - jóval kevesebb mint 10 000 rpm)
		\end{itemize}
		\item Hall effektus szenzor:  fogaskerekeknél a szenzor mögött egy állandó mágneses tér nagyobb amikor a fogak közötti hely van a szenzor előtt, kisebb a fogak eltérítik a mágneses tér egy részét, a szenzor ez alapján ad le különböző feszültségeket
	\end{itemize}
	Stroboszkópos szenzorok - fény alapúak, nem alkalmasak \\
	analóg mérők - kevésbé pontosak\\
	be kell építeni\\
	hasonló a helyzet a giroszkópok, optikus szál giroszkópok, és mems (mikroelektromechanikai rendszerű) giroszkópok esetén\\
	\\
	pozíció / gyorsulás általi számolás pontatlan\\
	\\
	kalibráció: stroboszkópos fordulatszám mérővel, 0.1\%-nál kisebb a hiba\\
	
	\section{Controllers}
	
	programmable automation controller scalability, larger memory, more flexibility in programming
	industrial pc overkill and big, a pc that is specialized in automation
		
	\subsection{PLC}
	
	A PLC egy rendszer, amely egy mikrokontroller köré lett építve, robosztus, nagy terhelhetőségű rendszerek irányítására és streamlineolására lett kitalálva
	Arduino based plc
	
	\begin{itemize}
		\item 24 V (estleg 12 V)
		\item moduláris, nem kell forrasztani a cseréhez
		\item robosztus, megbízható
		\item egyszerűbb programozás
		\item szennyeződésállóbb
	\end{itemize}
	
	részei:
	\begin{itemize}
		\item keret
		\item tápegység
		\item programozó felület: külsőleg rácsatlakoztatott (laptop)
		\item I/O szakasz
		\item CPU
	\end{itemize}
	
	általában gyártó által felprogramozott, program keretei meg vannak adva, ladder diagram
	
	szabályozási módszerek: (igazából én irányítást csinálok)
	\begin{itemize}
		\item két lépéses: on / off
		\item P
		\item I
		\item D
		\item PID/PI/PD
	\end{itemize}	
	
	
	ipari automatizáció szoftveressé tételével jöttek létre
	
	\subsection{Programmable Relay}
	
	\begin{itemize}
		\item 12 / 24 / 120/240 V 
		\item kisebb rendszerekre ideális (kevés I/O)
		\item költséghatékony
		\item alap logikai és időzítési szabályozás --> magas frekvenciás kell
	\end{itemize}
	
	
	\begin{itemize}
		\item Schneider Electric - Zelio Logic\\
			\url{https://www.se.com/hu/hu/product/SR2B121JD/zelio-logic-programozható-relé-kompakt-lcd-kijelző-4-di-+-4-di-ai-4-do-relés-belső-órával-12-vdc/}
			\begin{itemize}
				\item 12 V
				\item 4 DI + 4 AI
				\item 4 DO
				\item Internal Clock
				\item 1 kHz
				\item Ladder, Function Block programming (ZelioSoft 2)
				\item 68x90x10
				\item 75k
			\end{itemize}
		\item IDEC SmartRelay\\
			\url{https://us.idec.com/idec-us/en/USD/Programmable-Logic-Controller/SmartRelay/FL1F-SmartRelay/p/FL1F-B12RCE?_gl=1*zqa4qi*_gcl_au*MTk1MjU0MTE2MC4xNzMxMTU0MDc3*_ga*MTIzMzg3MzYxMi4xNzMxMTU0MDc3*_ga_1LDNE20K3F*MTczMTE1NDA3Ni4xLjAuMTczMTE1NDA3Ni42MC4wLjA.&_ga=2.12882228.2030195643.1731154077-1233873612.1731154077}
			\begin{itemize}
				\item 12 V
				\item Ethernet Port
				\item Web Server
				\item IOS/Android app
				\item MicroSD memory
				\item 2 AI
				\item 4 DI
				\item 8 DO
				\item 5 kHz
				\item Ladder, Function Block programming (WinLGC)
				\item 71.5x90x58
				\item 69k
			\end{itemize}
		\item Siemens LOGO! - szerintem ez a move\\
			\url{https://mall.industry.siemens.com/mall/en/WW/Catalog/Product/6ED1052-2MD08-0BA2}\\
			\url{https://aonline.hu/Siemens-LOGO-Basic-kijelzo-nelkul-alapegyseg-12-24?gad_source=1&gclid=Cj0KCQiArby5BhCDARIsAIJvjIQEKl6HOI_aqbwnbf9ugS9PrEpXgStMSAT6mDYTOXKnVZPxBwGrYkUaAuloEALw_wcB}\\
			\url{https://hu.rs-online.com/web/p/plc-k-programozhato-logikai-vezerlok/2825517?srsltid=AfmBOorVtHX3OCEcJ4P2AfjJolSvOeJF2quEqZXC3putkTcT6OjEo2nc}\\
			\begin{itemize}
				\item Internet, cloud
				\item 12 V
				\item 4 DI + 4 DI/AI
				\item 4 DO
				\item 5 kHz
				\item Ladder, Function Block programming (LOGO! Soft Comfort)
				\item 71.5x90x58
				\item 58k
			\end{itemize}
		\item Eaton Easy E4
		\url{https://www.eaton.com/hu/hu-hu/skuPage.197212.html}
		\url{https://www.eaton.com/hu/hu-hu/skuPage.197212.pdf}
	\end{itemize}
	
	
	\subsection{Mikrokontroller}
	
	számítógépek kicsinyítésével, alaplap kompakt megoldásával jöttek létre
	
	\begin{itemize}
		\item 3.33 V - 5 V - 12 V (Arduino Uno/Nano, Raspberry Pi, ESP32/ESP8266) - step-down converter --> komplikáció
		\item könnyű továbbfejleszthetőség, újraprogramozás, bővítés (Wi-Fi, stb)
		\item kompaktabb, alacsony feszültség, specifikus dolgokat beépíthetünk
		\item olcsóbb
		\item nem egy ipari környezethez épül
		\item por/víz/olaj szennyeződés --> Tok, ház építés
	\end{itemize}
	
	
	
	Smart sensors:
	\begin{itemize}
		\item Remote calibration capability.
		\item Self-diagnosis of faults.
		\item Automatic calculation of measurement accuracy and compensation for random errors.
		\item Adjustment for measurement nonlinearities to produce a linear output.
		\item Compensation for the loading effect of the measuring process on the measured system
	\end{itemize}
	
	
	\section{jelfeldolgozás}
	
	\subsection{Analóg jelfeldolgozás}
	\begin{enumerate}
		\item amplification: amplify weak sensor signals
		\item filtering: filter inherent noise
		\item anti-aliasing: eliminate high-freq components - above the Nyquest rate (1/2 sampling rate)
	\end{enumerate}
	%	
	aliasing: sampling rate must be at least double the frequency of the signal\\
	ha 300 rpm-el számolunk, az 5 Hz, ha van x fogaskerekünk akkor a jel frekvenciája 5 * x = 150 Hz < 500 / 2 Hz

	nemhiszem hogy szükséges valós idejű szűrőket alkalmazni, szükség esetén térjünk vissza rá
	
	\section{Adat továbbítás}
	
	az i/o-hoz nem kell, csak ha kommunikáció jön létre két eszköz között
	
	I/O, HART (bus-based)
	Paralell Data Bus
	LAN - fast, long range - Overkill
	Digital fieldbus - fast, 2 way communication, LAN
	
	!!szenzor hiba jelzés
	
	\subsection{wireless}
	
	saját hálózat
	
	wireless bridge - repeater - router
	mini wireless router:
	gl-iNet:
	\url{https://store-eu.gl-inet.com/products/free-shipping-local-delivery-shadow-gl-ar300m16?gad_source=1&gclid=Cj0KCQiA0fu5BhDQARIsAMXUBOIo9Hxk6EWgn0nCxsYiFAkeqB8zC129Zt68hIp8kgDl4rIFVLwyuKgaAjfuEALw_wcB}
	antennás:
	\url{https://store-eu.gl-inet.com/products/gl-ar300m16-mini-smart-router?gad_source=1&gclid=Cj0KCQiA0fu5BhDQARIsAMXUBOK2N9banYKe--vUtYgB9NGedPREbqsUlwY1hhnwxKIFznN0t5mn2qcaApDcEALw_wcB}
	tp-link:
	\url{https://www.tp-link.com/hu/home-networking/5g-4g-router/tl-mr3020/}
	12V --> 5 V
	\url{https://techfun.hu/termek/cpt-menic-napatia-do-auta-12v-na-5v/?attribute_pa_fem-fogo=kabel-bemenet-micro-usb-kimenet&gad_source=1&gclid=Cj0KCQiA0fu5BhDQARIsAMXUBOJDXKFXAPufg4v-lr21gAA-96d_PbLXIkRUu1xUOT2XJKxrmoxuN5oaAlbuEALw_wcB}
	repeater
	Wi-Fi protokoll 
	logo comm modul:
	\url{https://mall.industry.siemens.com/mall/en/WW/Catalog/Products/10244228?tree=CatalogTree}
	
	\section{Visszajelzés}
	
	\subsection{Lámpa}
	
	video: \url{https://www.youtube.com/watch?v=Js3flI-84D8}

	1700 Ft: \url{https://www.conrad.hu/hu/p/led-es-jelzolampa-22mm-piros-12v-ac-dc-152484.html}
	12V
	22 mm átmérő befogás
	
	
	\section{Meetingek}
	
	\subsection{meeting 10.8.}
	
	kialakítás változtatása: félkörnyi lemez - 1-0 változás (kisebb frekvencia)
	
	12V a rendszer
	szenzor választás - komplett házas - szennyeződés
	dugalyos cserélhető verzió - kábel megválasztása
	84391778 H4CQF
	
	M12-es: \url{https://www.electricstore.hu/autonics/prdcm12-4dp-induktiv-erzekelo-12-24vdc-m12-4mm-pnp-no?gad_source=1&gclid=CjwKCAjw3624BhBAEiwAkxgTOkLaKXLI6GQJ9YZEVY_-tAHNSpkxoH8HQei1cQJeC9ptuPmOc45EvBoCwnoQAvD_BwE}
	
	8 mm: \url{https://anxq.hu/induktiv-erzekelo-is-12-h1-s2-m12-rovid-verz-dupla-erzekelesi-tav-nem-sully-8mm-pnp-no-3-vezetekes-m12-csatlakozo?utm_source=google_shopping&utm_medium=cpp&utm_campaign=direct_link&gad_source=1&gclid=CjwKCAjwjsi4BhB5EiwAFAL0YEh2GQs8CRxC_SfYj5ndum1nb41hw7qUbFdcOHYmSHGV6851MbRNgxoCYHsQAvD_BwE}
	Conrad
	\url{https://www.conrad.hu/hu/p/datalogic-induktiv-kozelites-kapcsolo-m12-sikba-nem-epitheto-pnp-is-12-h1-s2-1488394.html}
	
	10..30 Vdc
	PNP NO
	3 wires
	kapcsolási távolság: 8 mm
	500 Hz
	
	A szenzoroknál a mérési frekvencia 500 Hz, illetve azt is írták a katalógusban hogy 500 Hz / 200 hz (4 wires NO-NC), amiről azt gondolom, hogy ha 4 kábel van bekötve akkor az aktív 0 bekötés és aktív 1 bekötést is méri, így lesz 200 Hz. Ebben annyira nem vagyok biztos, ha csatolom a katalógust, esetleg rá tudsz nézni? (IS-12-H1-S2 a szenzor kódja)
	De ha 500 Hz-el számolunk, akkor a mérendő jelünk 250 Hz alatt kell legyen, ehhez a gondolatmenetemet le tudnád ellenőrizni:
	Nyomatékhatárolón: 350 rpm a legnagyobb fordulatszám, ez másodpercenként 5.83 1/s , amit a fogszámmal megszorozva kapjuk a jelünk frekvenciáját (hány fog megy el a szenzor előtt másodpercenként): 5.83 * 32 = 186.56 Hz, ami megfelelő.
	A túloldali lemeznél: 270 rpm --> 4.5 1/s, ami után a lemez 1 fogának a vastagságától függ, de mondjuk, ha 1/20-a a teljes körnek, az olyan mintha 10 fog és 10 fogárok lenne, ezzel 45 Hz jönne ki.
	Végül a felszedőnél: 150 rpm --> 2.5 1/s, 38 fog. Így 38 * 2.5 = 95 Hz, szintén megfelelő.	
	
	
	3 szenzor mindenképp
	fogastárcsa a felszedőhöz (85-150 rpm) - (z=38 fog)
	túloldal a csiga tengelyen (220-270 rpm) - lemez kell
	nyomatékhatároló külső fogastárcsa (180-350) (z=32 fog)
	
	fogas lemez - 1 füles vagy sok füles melyik pontosabb
	
	2 féle nyomatékhatároló - egyikre megoldás
	
	Lánckerekek max radiális ütése 0,3-0,4 mm, ez lehetővé teszi, hogy közel állítsuk az érzékelőt. Viszont a lánckerék zsíros poros.
	
	Lemezből készült alkatrész (fogazott tárcsa) esetén gyártási pontosság +0,5-0,5mm + szerelési illesztésekből adódóan +0,5-0,5.
	
	Mindkét esetben 3-4mm távolság beállítást javasolnék. 
	
	\subsection{kerdesek 10.30}
	
	PLC: 12V
	natív feszültség a rendszeren, a szenzorokon, így a lámpán is
	Moduláris!!
	Arduino - személyre szabhatóbb
	Wi-Fi, Bluetooth ha kell
	
	Lámpa:
	3 centi átmérő, dobozra szerelhető !!!
	\url{https://www.conrad.hu/hu/p/led-es-jelzolampa-22mm-piros-12v-ac-dc-152484.html}
	\url{https://www.vilagitascenter.hu/tracon_ipari_led_jelzolampa_22mm_12v_piros_ljl22-ra}
	tipikus jelzőlámpa, mentőautó 
	\url{https://hu.elmarkstore.eu/jelző-lámpa-lte1101-r-12v-piros-product24244}
	jelzőoszlop \url{https://www.conrad.hu/hu/p/tru-components-jelzo-oszlop-tc-9539288-led-piros-1-db-2384822.html?utm_source=google&utm_medium=cpc&utm_campaign=HU%20-%20PMAX%20-%20NonBrand%20-%20High&utm_id=21749768371&gad_source=1&gclid=Cj0KCQjwsoe5BhDiARIsAOXVoUt2AqBo6jgopCy2DVZL8qmG_l8jI4LAl2jT7j-jxk-buoL3l2nSL4UaAuW7EALw_wcB}
	
	Conradrol rendelni mindent: egyben jön, szállítási költség	
	
	\subsection{meeting 10.31}
	
	350-400 euro a nyomatékhatároló
	költség - biztonság
	
	kis lámpa 3 cm átmérős 
	
	vízmentes csatlakozó változást
	plc-be vagy kábelkorbács
	
	próbáljuk wi-fi bluetooth, ha drágább is
	
	forgalmazó egyeztet a gépgyártókkal, hátha a silozokra rá lehet
	
	ip védett
	
	\subsection{email 11.05}
	
	Tisztelt Tanár Úr!
	
	Kovács Hunor vagyok, utolsó féléves mechatronikai mérnöki hallgató, és a gépészeti automatizálás és szervopneumatika kurzusokat hallgattam korábban önnél. Azért keresem, mert a szakdolgozatom során arra jutottam hogy a PLC-k alkalmazása lenne ideális számomra, azonban a választás során elakadtam.
	A céges szakdolgozatom során egy mezőgazdasági felszedő adapternél több helyen is a fordulatszám mérését, majd ezeknek a fordulatszámoknak az összehasonlítását valósítom meg. A PLC rendszerre két okból esett a választás. A környezeti tényezők (por, olaj) tűrése miatt egy induktív szenzort választottam, amely PLC rendszerekhez van tervezve, illetve az adapteren a feszültség forrás 12V-os.
	A kérdésem az lenne, hogy milyen katalógust ajánl, vagy hol lehet termékeket keresni, ha egy költséghatékony megoldást, kisebb PLC rendszert szeretnék megvalósítani, amely 3 bemenettel és 1 kimenettel (jelzőfény) rendelkezik. 
	A rendszernek lánckerekek fogait mérő szenzorokból kapott jeleket kell feldolgoznia és fordulatszámmá konvertálja, majd a jelzőfényt felkapcsolnia ha ezek eltérnek. Ehhez megfelelő számítási kapacitás lenne szükséges, azonban azt nem tudom számszerűen megítélni mennyi lehet.


	Válasz:
	
	PLCk 24 Voltosak, nézz rá a SmartRelay-kre
	
	\subsection{meeting 11.12}
	
	wifi mindenképp
	modul
	wireless bridge
		
	tömszelence mehet
	
	\subsection{11.16}
	
	Dear Sir or Madam,
	
	I am developing a 12 V mobile IoT device, which has an Ethernet RJ45 input. I would like to share a mobile hotspot, and I was wondering, if you have any adapters which could be powered by 12 V, and if so, which product would be the most cost effective.
	
	Thank you in advance,
	
	Sincerely,
	Hunor Kovács
		
	\subsection{kepek forrasa}
	\url{https://hevesgep.hu/termek/ge-fix-szalas-takarmany-felszedo/}
	
	\subsection{11.21}
	
	ip vedett doboz
	
\end{document}
